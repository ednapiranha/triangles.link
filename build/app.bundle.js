!function(e){function t(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="/",t(0)}([function(e,t,o){"use strict";o(1),o(6);var i=o(18),n=o(20),a=o(19),r=o(21),s=document.body.getAttribute("data-owner"),l=io();r.generate(),i.assignRoom(l),i.setChat(l),n.generateSky(),n.generateMountain(),n.generateLand(),n.generateMining(),"true"===s&&(i.setMining(l),a.setVehicle(l),i.getCollection(l),i.getBuildables(l))},function(e,t,o){var i=o(2);"string"==typeof i&&(i=[[e.id,i,""]]);o(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,o){t=e.exports=o(3)(),t.push([e.id,"a,abbr,acronym,address,appvar,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,summary,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}@font-face{font-family:LeagueSpartan-Bold;src:url("+o(4)+")}body{font-family:Arial,sans-serif;background:#ccc}header{position:fixed;z-index:20}header p{position:fixed;left:10px;top:10px;color:#fff;font-size:2rem;cursor:pointer}header p.active,header p:hover{color:#111}#menu{position:fixed;display:none;top:50px}#menu.active,#menu a{display:block}#menu a{background-color:rgba(1,1,1,.5);padding:2px 10px;color:#fff;text-decoration:none;font-size:.8rem;margin-bottom:1px;text-transform:uppercase;line-height:1.4rem}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(i[a]=!0)}for(n=0;n<t.length;n++){var r=t[n];"number"==typeof r[0]&&i[r[0]]||(o&&!r[2]?r[2]=o:o&&(r[2]="("+r[2]+") and ("+o+")"),e.push(r))}},e}},function(e,t,o){e.exports=o.p+"bd703062f4a66991f9472b3634d82e92.woff"},function(e,t,o){function i(e,t){for(var o=0;o<e.length;o++){var i=e[o],n=f[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(c(i.parts[a],t))}else{for(var r=[],a=0;a<i.parts.length;a++)r.push(c(i.parts[a],t));f[i.id]={id:i.id,refs:1,parts:r}}}}function n(e){for(var t=[],o={},i=0;i<e.length;i++){var n=e[i],a=n[0],r=n[1],s=n[2],l=n[3],c={css:r,media:s,sourceMap:l};o[a]?o[a].parts.push(c):t.push(o[a]={id:a,parts:[c]})}return t}function a(e,t){var o=h(),i=x[x.length-1];if("top"===e.insertAt)i?i.nextSibling?o.insertBefore(t,i.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),x.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=x.indexOf(e);t>=0&&x.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function c(e,t){var o,i,n;if(t.singleton){var a=v++;o=b||(b=s(t)),i=d.bind(null,o,a,!1),n=d.bind(null,o,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=l(t),i=u.bind(null,o),n=function(){r(o),o.href&&URL.revokeObjectURL(o.href)}):(o=s(t),i=p.bind(null,o),n=function(){r(o)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function d(e,t,o,i){var n=o?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var a=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function p(e,t){var o=t.css,i=t.media;t.sourceMap;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function u(e,t){var o=t.css,i=(t.media,t.sourceMap);i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var n=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var f={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=g(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,v=0,x=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=n(e);return i(o,t),function(e){for(var a=[],r=0;r<o.length;r++){var s=o[r],l=f[s.id];l.refs--,a.push(l)}if(e){var c=n(e);i(c,t)}for(var r=0;r<a.length;r++){var l=a[r];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete f[l.id]}}}};var y=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}()},function(e,t,o){var i=o(7);"string"==typeof i&&(i=[[e.id,i,""]]);o(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,o){t=e.exports=o(3)(),t.push([e.id,"#area{height:2592px;width:2400px}.login{padding:20px}.errors{color:red;font-weight:700;text-transform:uppercase}.form{margin:50px 10px 0 120px}.form h1{margin-bottom:20px}.form h2{margin:10px 0 5px}footer{position:fixed;bottom:0;left:0;right:0;height:65px;background-color:rgba(1,1,1,.5);z-index:9}footer form{display:inline-block;float:right}#health{position:absolute;left:130px;bottom:10px;height:30px;width:120px;z-index:6}#health .status{border-radius:100px;width:15px;height:15px;margin-right:3px;background-color:#01db77;float:left}#health .status.damage{background-color:red}#messages{position:absolute;bottom:65px;right:10px}#messages li{padding:5px 8px;margin-bottom:1px;background-color:rgba(1,1,1,.5);color:#ddd;font-weight:100;font-size:.75rem;line-height:1rem;width:250px;text-overflow:ellipsis;overflow:hidden;cursor:pointer}#messages li:hover{background-color:hsla(0,0%,100%,.5);color:#888}#messages li.hide{opacity:0;transition:opacity .5s;-webkit-transition:opacity .5s}#messages li time{font-size:.7rem;margin-right:5px;font-style:italic;color:#aaa}#message input{border:0;font-size:.8rem;padding:4px;background-color:rgba(1,1,1,.4);color:#eee;width:246px}#active{float:right;display:inline-block;padding:5px 10px;background-color:rgba(1,1,1,.7);text-align:center;color:#fff}#message button{display:none}#back{top:0;left:0;right:0;bottom:0}#back,#mountain{position:absolute}#mountain{width:1400px;height:445px;left:100px;top:85px;z-index:2}#land-lower,#land-upper{width:2400px;height:500px;position:absolute;left:0;top:400px;z-index:3}#land-lower{top:700px}#mining{position:absolute;top:1000px;width:2400px;height:1600px;z-index:4}#playground{top:0;height:1199px}#mining-area,#playground{position:absolute;left:0;width:2400px;z-index:7}#mining-area{top:1200px;height:1400px}.square{width:50px;height:50px}#vehicle,.hole{position:absolute;width:100px;height:50px;top:0;left:0}.hole{z-index:4;background-image:url("+o(8)+");background-repeat:no-repeat}.hole.fade{opacity:0;transition:opacity 2s;-webkit-transition:opacity 2s}#vehicle{z-index:6;background-image:url("+o(9)+");background-repeat:no-repeat}#vehicle.active{background-color:hsla(0,0%,100%,.4);border-radius:100px;box-shadow:#fff 0 0 25px}#vehicle.damage{background-color:rgba(246,0,0,.4);border-radius:100px;box-shadow:#f60000 0 0 25px}#avatar{background-image:url("+o(10)+");left:10px}#avatar,#build{position:absolute;background-repeat:no-repeat;width:50px;height:50px;z-index:6;bottom:10px}#build{background-image:url("+o(11)+");left:70px}#avatar.active,#avatar:hover,#build.active,#build:hover{background-color:rgba(2,181,219,.6);border-radius:100px;box-shadow:#06d3ff 0 0 10px;cursor:pointer}.lava{width:70px;height:70px;z-index:7;top:-5px;background-image:url("+o(12)+")}.lava,.neon-blue,.neon-green,.neon-pink{position:absolute;display:inline-block;background-repeat:no-repeat}.neon-blue,.neon-green,.neon-pink{width:50px;height:50px;z-index:5}.items .collected{position:relative;width:65px;height:40px;padding-left:50px;font-size:1.1rem;line-height:22px;margin:5px 0;background-repeat:no-repeat}#builder,#collection{position:fixed;background:repeating-linear-gradient(45deg,rgba(2,2,2,.7),rgba(2,2,2,.7) 3px,rgba(3,3,3,.6) 5px,rgba(4,4,4,.6) 3px);z-index:9;height:70vh;width:70vw;left:100px;top:-70vw;padding:20px;border:1px solid #333;border-radius:3px;color:#fff;opacity:0;overflow:auto;transition:opacity 1s;-webkit-transition:opacity 1s}#builder.active,#collection.active{top:0;display:block;opacity:1;transition:opacity 1s;-webkit-transition:opacity 1s}#builder h2,#collection h2{font-size:1rem;font-family:LeagueSpartan-Bold;text-transform:uppercase;margin-bottom:10px;clear:both;display:block;width:100%;float:left}.tip{line-height:1.2rem;font-size:.85rem}.items,.tip{float:left;clear:both}.items{margin-bottom:20px;width:100%}.items li{width:70px;float:left;padding:10px;margin-right:10px}.items .requirements{width:20px;height:20px;padding-left:30px;display:block;background-repeat:no-repeat}#builder .items .build{width:50px;height:50px;display:inline-block;background-repeat:no-repeat;padding-left:70px;position:relative}.requirements{display:block;position:relative}.requirements.disabled{opacity:.3}.buy:hover{border-top:5px solid #d0ff12;cursor:pointer}.neon-pink{background-image:url("+o(13)+")}.neon-blue{background-image:url("+o(14)+")}.neon-green{background-image:url("+o(27)+")}.neon-red{background-image:url("+o(25)+")}.neon-purple{background-image:url("+o(26)+")}.neon-palm-tree{background-image:url("+o(16)+")}.neon-lips{background-image:url("+o(17)+")}",""])},function(e,t,o){e.exports=o.p+"1327a664509ea85656eac9c08d2885ed.svg"},function(e,t,o){e.exports=o.p+"e74b96662ec0b31932976eb45c1ecb05.svg"},function(e,t,o){e.exports=o.p+"cb70118d2f23afd922467593d584daab.svg"},function(e,t,o){e.exports=o.p+"3e89afc1fa4b39539e7346716cdd3269.svg"},function(e,t,o){e.exports=o.p+"f9d5c2e7545aaa75725029ef09be7715.svg"},function(e,t,o){e.exports=o.p+"ebc942419527f336b8282a3181668bd4.svg"},function(e,t,o){e.exports=o.p+"8e778df11ca741bc582cac4cc2a529ce.svg"},,function(e,t,o){e.exports=o.p+"27b149585715868ab4a9d33123f483d6.svg"},function(e,t,o){e.exports=o.p+"c8513a5c9598684e8c3a5f53a62fdb79.svg"},function(e,t,o){"use strict";var i=o(19),n=document.body.getAttribute("data-room"),a=document.body.getAttribute("data-user"),r=document.querySelector("#mining-area"),s=document.querySelector("#builder"),l=document.querySelector("#collection"),c=document.querySelector("#avatar"),d=document.querySelector("#build"),p={};t.assignRoom=function(e){n&&"undefined"!==n?(console.log("joining ",n),e.emit("join",{room:n})):console.log("no room available")},t.setChat=function(e){var t=document.querySelector("#message"),o=document.querySelector("#messages");t.onsubmit=function(t){t.preventDefault();var o=this.querySelector("input");e.emit("message",{room:n,message:o.value,name:a}),o.value=""},e.on("message",function(e){var t=document.createElement("li"),i=document.createElement("time"),n=document.createElement("span");i.textContent=e.created,n.textContent=e.name+": "+e.message,t.appendChild(i),t.appendChild(n),o.appendChild(t),t.onclick=function(){t.classList.add("hide"),setTimeout(function(){o.removeChild(t)},600)}})},t.setMining=function(e){var t=document.querySelector("#active");e.on("active",function(e){t.textContent=e}),e.on("mining",function(t){t.item&&!function(){var o=document.createElement("img");o.classList.add(t.name),o.style.left=t.currX,o.style.top=t.currY,r.appendChild(o),e.emit("mined",{room:n,name:t.name}),e.emit("collection",{room:n}),setTimeout(function(){r.removeChild(o)},2e3)}()}),i.setHealth(e)},t.getCollection=function(e){var t=l.querySelector(".items");e.emit("collection",{room:n}),e.on("collection",function(t){p=t,e.emit("build",{room:n})}),c.onclick=function(){if(e.emit("collection",{room:n}),s.classList.remove("active"),d.classList.remove("active"),l.classList.contains("active"))this.classList.remove("active"),l.classList.remove("active");else{this.classList.add("active"),l.classList.add("active"),t.innerHTML="";for(var o in p){var i=document.createElement("li"),a=document.createElement("p");a.classList.add(o),a.classList.add("collected"),a.textContent="x"+p[o],i.appendChild(a),t.appendChild(i)}}}},t.getBuildables=function(e){var t=document.querySelector("#build"),o=s.querySelector(".items");t.onclick=function(){e.emit("build",{room:n}),l.classList.remove("active"),c.classList.remove("active"),s.classList.contains("active")?(this.classList.remove("active"),s.classList.remove("active")):(this.classList.add("active"),s.classList.add("active"))},e.on("build",function(t){var i=!1;o.innerHTML="",console.log("got new build info ",t);var a=function(a){var r=document.createElement("li"),s=document.createElement("p");s.classList.add("build"),s.classList.add(a),s.setAttribute("title",t[a].name),r.appendChild(s);for(var l in t[a].requirements)s=document.createElement("p"),(!p[l]||p[l]<t[a].requirements[l])&&(s.classList.add("disabled"),i=!0),s.classList.add("requirements"),s.classList.add(l),s.textContent="x"+t[a].requirements[l],r.appendChild(s);i||(r.classList.add("buy"),r.onclick=function(){e.emit("make",{room:n,item:a,requirements:t[a].requirements}),o.innerHTML="",e.emit("collection",{room:n})}),o.appendChild(r),i=!1};for(var r in t)a(r)})}},function(e,t){"use strict";var o=document.body.getAttribute("data-room"),i=document.querySelector("#health"),n=!1;t.setHealth=function(e){e.on("damage",function(e){for(var t=5;t>0;t--)n=0===e?!0:!1,e>=t?i.querySelector("#health-state"+t).classList.remove("damage"):i.querySelector("#health-state"+t).classList.add("damage")})},t.setVehicle=function(e){function i(e){if(e=e||window.event,n)return void s.classList.remove("active");switch(e.keyCode){case 38:e.preventDefault(),a("up");break;case 40:e.preventDefault(),a("down");break;case 37:e.preventDefault(),a("left");break;case 39:e.preventDefault(),a("right")}}function a(t){function i(e){setTimeout(function(){e.classList.add("fade"),setTimeout(function(){r.removeChild(e)},1400)},1e3)}var n=parseInt(s.style.left.split("px")[0],10),a=parseInt(s.style.top.split("px")[0],10),d=void 0;if(c){switch(t){case"up":a>0&&(s.style.top=a-50+"px");break;case"down":1250>a&&(s.style.top=a+50+"px");break;case"left":n>0&&(s.style.left=n-100+"px");break;case"right":2300>n&&(s.style.left=n+100+"px")}d=l.cloneNode(),d.classList.remove("fade"),d.style.top=s.style.top,d.style.left=s.style.left,e.emit("mining",{room:o,currX:s.style.left,currY:s.style.top}),i(d),r.appendChild(d)}}var r=document.querySelector("#mining-area"),s=document.querySelector("#vehicle"),l=document.querySelector(".hole"),c=!1;s.style.left=0,s.style.top=0,t.setHealth(e),e.on("damage",function(e){n=!e,n?s.classList.add("damage"):s.classList.remove("damage")}),s.onclick=function(){n?console.log("vehicle damaged"):this.classList.contains("active")?(this.classList.remove("active"),c=!1):(this.classList.add("active"),c=!0)},document.onkeydown=i},t.setDamagedState=function(e){n=e}},function(e,t){"use strict";var o=(new Date).getHours();t.generateSky=function(){function e(){for(var e=0;n>=e;e+=n/6)for(var o=0;a>=o;o+=a/6){var i=void 0,r=void 0;i=e&&e!=n?e+(Math.floor(Math.random()*(n/4))-n/8):e,r=o&&o!=a?o+(Math.floor(Math.random()*(a/4))-a/8):o,s.push([i,r])}l=Delaunay.triangulate(s);for(var c=0;c<l.length;c+=3)t(c)}function t(e){var t=r.polygon([s[l[e]][0],s[l[e]][1],s[l[e+1]][0],s[l[e+1]][1],s[l[e+2]][0],s[l[e+2]][1]]).attr({fill:i()});t.centroid={x:(s[l[e]][0]+s[l[e+1]][0]+s[l[e+2]][0])/3,y:(s[l[e]][1]+s[l[e+1]][1]+s[l[e+2]][1])/3};var o=r.polygon(0,0,t.centroid.x,t.centroid.y,t.centroid.x+3,t.centroid.y+5).attr({fill:"rgba(255, 255, 255, 0.5)"});c.add(t,o)}function i(){var e=Math.floor(Math.random()*d)+p,t=Math.floor(Math.random()*u)+f;return"rgb("+e.toString()+", "+g+","+t.toString()+")"}var n=2400,a=530,r=Snap("#back"),s=[],l=void 0,c=r.select('g[filter="url(#artifacts)"]'),d=void 0,p=void 0,u=void 0,f=void 0,g=void 0;o>=5&&8>o?(d=150,p=120,u=100,f=150,g=120):o>=8&&17>o?(d=70,p=60,u=100,f=210,g=185):o>=17&&21>o?(d=100,p=150,u=70,f=50,g=100):(d=50,p=20,u=70,f=50,g=10),r.attr({width:n,height:a}),e()},t.generateMountain=function(){var e=Snap("#mountain"),t=void 0;t=o>=5&&9>o?"rgba(241, 203, 255, 0.6)":o>=9&&17>o?"rgba(229, 253, 255, 0.6)":o>=17&&21>o?"rgba(255, 197, 168, 0.6)":"rgba(157, 150, 213, 0.4)";var i=e.path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:t,strokeWidth:25});i=i.pattern(0,5,25,10),e.paper.polygon("1400.8,422.7 1371.4,293.2 1256.7,148.4 1131.7,174.1 1018.5,87.4 830.2,97.7 689.1,0.6 499.3,119.7 417,87.4 278.8,209.4 209.6,174.1 89.1,271.2 0.8,444.7 1400.8,444.7").attr({fill:i})},t.generateLand=function(){var e=Snap("#land-upper"),t=void 0;t=o>=5&&9>o?"rgba(241, 203, 255, 0.9)":o>=9&&17>o?"rgba(189, 253, 255, 0.9)":o>=17&&21>o?"rgba(255, 197, 168, 0.9)":"rgba(157, 150, 213, 0.9)";var i=e.path("M0-15-10,15M15,10,0,25M0-5-20,15").attr({fill:"none",stroke:t,strokeWidth:55});i=i.pattern(0,15,25,10),e.paper.polygon("2400,500 2400,77 2287.9,131.4 2152.3,48.6 1979,90 1854.6,58.9 1719,90 1532.3,48.6 1421.2,90 1232.3,64.1 1081.2,9.8 919,58.9 779,69.3 630.1,9.8 496.8,69.3 352.3,69.3 227.9,48.6 125.7,90 65.7,48.6 0,131.4 0,500").attr({fill:i}),e=Snap("#land-lower"),t=o>=5&&9>o?"rgba(141, 203, 255, 0.95)":o>=9&&17>o?"rgba(179, 143, 145, 0.95)":o>=17&&21>o?"rgba(155, 197, 168, 0.95)":"rgba(157, 150, 213, 0.9)",i=e.path("M10-35-20,5M15,20,50,25M10-5-20,15").attr({fill:"none",stroke:t,strokeWidth:45}),i=i.pattern(0,15,25,10),e.paper.polygon("2400,500 2400,77 2287.9,131.4 2152.3,48.6 1979,90 1854.6,58.9 1719,90 1532.3,48.6 1421.2,90 1232.3,64.1 1081.2,9.8 919,58.9 779,69.3 630.1,9.8 496.8,69.3 352.3,69.3 227.9,48.6 125.7,90 65.7,48.6 0,131.4 0,500").attr({fill:i})},t.generateMining=function(){var e=Snap("#mining"),t=void 0;t=o>=5&&9>o?"rgba(141, 143, 215, 0.95)":o>=9&&17>o?"rgba(59, 143, 135, 0.95)":o>=17&&21>o?"rgba(25, 177, 168, 0.95)":"rgba(57, 150, 213, 0.9)";var i=e.path("M10-5-20,15M5,20,50,25M10-5-20,15").attr({fill:"none",stroke:t,strokeWidth:45});i=i.pattern(0,5,15,25),e.paper.polygon("0,146.2 0,80 143,80 468,122.4 628,80 903,106.5 1083,80 1288,106.5 1453,80 1678,106.5 1833,80 2033,106.5 2143,80 2400,106.5 2400,1680 0,1680 0,106.5").attr({fill:i})}},function(e,t){"use strict";t.generate=function(){var e=document.querySelector("header p"),t=document.querySelector("#menu");e.onclick=function(){this.classList.contains("active")?(t.classList.remove("active"),this.classList.remove("active")):(t.classList.add("active"),this.classList.add("active"))}}},,,,function(e,t,o){e.exports=o.p+"52783ce301e0ca63c704beb99745cf46.svg"},function(e,t,o){e.exports=o.p+"3cc7291916788d8e751dc34f494ba294.svg"},function(e,t,o){e.exports=o.p+"f8b3aadee4eef62ff596c23d3d73acf3.svg"}]);